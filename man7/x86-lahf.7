.nh
.TH "X86-LAHF" "7" "May 2019" "TTMO" "Intel x86-64 ISA Manual"
.SH NAME
LAHF - LOAD STATUS FLAGS INTO AH REGISTER
.TS
allbox;
l l l l l l 
l l l l l l .
			Invalid*	Valid	T{
Load: AH ← EFLAGS(SF:ZF:0:AF:0:PF:1:CF).
T}
.TE

.PP
.RS

.PP
*Valid in specific steppings. See Description section.

.RE

.SH INSTRUCTION OPERAND ENCODING
.TS
allbox;
l l l l l 
l l l l l .
Op/En	Operand 1	Operand 2	Operand 3	Operand 4
ZO	NA	NA	NA	NA
.TE

.SH DESCRIPTION
.PP
This instruction executes as described above in compatibility mode and
legacy mode. It is valid in 64\-bit mode only if
CPUID.80000001H:ECX.LAHF\-SAHF[bit 0] = 1.

.SH OPERATION
.PP
.RS

.nf
IF 64\-Bit Mode
    THEN
        IF CPUID.80000001H:ECX.LAHF\-SAHF[bit 0] = 1;
            THEN AH ← RFLAGS(SF:ZF:0:AF:0:PF:1:CF);
            ELSE #UD;
        FI;
    ELSE
        AH ← EFLAGS(SF:ZF:0:AF:0:PF:1:CF);
FI;

.fi
.RE

.SH FLAGS AFFECTED
.PP
None. The state of the flags in the EFLAGS register is not affected.

.SH PROTECTED MODE EXCEPTIONS
.TS
allbox;
l l 
l l .
#UD	If the LOCK prefix is used.
.TE

.SH REAL\-ADDRESS MODE EXCEPTIONS
.PP
Same exceptions as in protected mode.

.SH VIRTUAL\-8086 MODE EXCEPTIONS
.PP
Same exceptions as in protected mode.

.SH COMPATIBILITY MODE EXCEPTIONS
.PP
Same exceptions as in protected mode.

.SH 64\-BIT MODE EXCEPTIONS
.TS
allbox;
l l 
l l .
#UD	T{
If CPUID.80000001H:ECX.LAHF\-SAHF
T}
[
bit 0
]
 = 0.
	If the LOCK prefix is used.
.TE

.SH SEE ALSO
.PP
x86\-manpages(7) for a list of other x86\-64 man pages.

.SH COLOPHON
.PP
This UNOFFICIAL, mechanically\-separated, non\-verified reference is
provided for convenience, but it may be incomplete or broken in
various obvious or non\-obvious ways. Refer to Intel® 64 and IA\-32
Architectures Software Developer’s Manual for anything serious.

.br
This page is generated by scripts; therefore may contain visual or semantical bugs. Please report them (or better, fix them) on https://github.com/ttmo-O/x86-manpages.

.br
MIT licensed by TTMO 2020 (Turkish Unofficial Chamber of Reverse Engineers - https://ttmo.re).
